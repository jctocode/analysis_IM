pipe_modules = []
pipe_processes = 1

from quadratic_products import aggregate_bulksim
basename = "GBT_15hr_optimalmap_selfcal_762"
outplotdir = "/cita/h/home-2/eswitzer/code/analysis_IM/pwrspec_plots/transfer/"
bulksimdir = "/mnt/raid-project/gmrt/eswitzer/GBT/simulations/bulk/"

do_compile = True
do_statistics = True

#----------------------------------------------------------------------------
# the rest is fairly automated and should not need to change
#----------------------------------------------------------------------------

if do_compile:
    pipe_modules.append((aggregate_bulksim.AggregateSummary, ('as1_', 'as_')))
as1_directory = "%s/%s_beam_meansub/" % (bulksimdir, basename)
as1_basefile = "%s_sim_" % basename
as1_outfile = "%s/%s_beam_meansub.shelve" % (bulksimdir, basename)

if do_compile:
    pipe_modules.append((aggregate_bulksim.AggregateSummary, ('as2_', 'as_')))
as2_directory = "%s/%s_nobeam/" % (bulksimdir, basename)
as2_basefile = "%s_sim_" % basename
as2_outfile = "%s/%s_nobeam.shelve" % (bulksimdir, basename)

if do_statistics:
    pipe_modules.append((aggregate_bulksim.AggregateStatistics, ('ast1_', 'ast_')))
ast1_shelvefile = as1_outfile
ast1_outputdir = "%s/%s/" % (outplotdir, basename)
